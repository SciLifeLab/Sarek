/*
vim: syntax=groovy
-*- mode: groovy;-*-
* -------------------------------------------------
* Nextflow config file for CAW project
* -------------------------------------------------
* Singularity images for every process
* -------------------------------------------------
 */

singularity {
  autoMounts = true
  enabled = true
}

process {
  $BuildBWAindexes.container          = 'docker://maxulysse/mapreads:1.1'
  $BuildPicardIndex.container         = 'docker://maxulysse/picard:1.1'
  $BuildSAMToolsIndex.container       = 'docker://maxulysse/samtools:1.1'
  $BuildVCFIndex.container            = 'docker://maxulysse/igvtools:1.1'
  $ConcatVCF.container                = 'docker://maxulysse/concatvcf:1.1'
  $CreateRecalibrationTable.container = 'docker://maxulysse/gatk:1.1'
  $IndelRealigner.container           = 'docker://maxulysse/gatk:1.1'
  $MapReads.container                 = 'docker://maxulysse/mapreads:1.1'
  $MarkDuplicates.container           = 'docker://maxulysse/picard:1.1'
  $MergeBams.container                = 'docker://maxulysse/samtools:1.1'
  $RealignerTargetCreator.container   = 'docker://maxulysse/gatk:1.1'
  $RecalibrateBam.container           = 'docker://maxulysse/gatk:1.1'
  $RunAlleleCount.container           = 'docker://maxulysse/runallelecount:1.1'
  $RunAscat.container                 = 'docker://maxulysse/runascat:1.1'
  $RunBamQC.container                 = 'docker://maxulysse/qualimap:1.1'
  $RunBcftoolsStats.container         = 'docker://maxulysse/bcftools:1.1'
  $RunConvertAlleleCounts.container   = 'docker://maxulysse/runconvertallelecounts:1.1'
  $RunFastQC.container                = 'docker://maxulysse/fastqc:1.1'
  $RunFreeBayes.container             = 'docker://maxulysse/freebayes:1.1'
  $RunHaplotypecaller.container       = 'docker://maxulysse/gatk:1.1'
  $RunGenotypeGVCFs.container         = 'docker://maxulysse/gatk:1.1'
  $RunManta.container                 = 'docker://maxulysse/runmanta:1.2'
  $RunMultiQC.container               = 'docker://maxulysse/multiqc:1.1'
  $RunMutect1.container               = 'docker://maxulysse/mutect1:1.1'
  $RunMutect2.container               = 'docker://maxulysse/gatk:1.1'
  $RunSamtoolsStats.container         = 'docker://maxulysse/samtools:1.1'
  $RunSnpeff.container = {params.genome == "GRCh38" ? 'docker://maxulysse/snpeffgrch38:1.1' : 'docker://maxulysse/snpeffgrch37:1.1'}
  $RunStrelka.container               = 'docker://maxulysse/strelka:1.2'
  $RunVEP.container = {params.genome == "GRCh38" ? 'docker://maxulysse/vepgrch38:1.1' : 'docker://maxulysse/vepgrch37:1.1'}
}
